package com.khoisang.drdigital.ui;

import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.LinearLayout;

import com.khoisang.khoisanglibary.ui.fragment.BaseFragment;

public class FragmentHome extends BaseFragment implements OnClickListener{

	private LinearLayout _location;
	private LinearLayout _support;
	private LinearLayout _enquiry;


	@Override
	protected int getLayoutID() {
		// TODO Auto-generated method stub
		return R.layout.fragment_home;
	}

	@Override
	protected void afterSetLayoutID(Bundle savedInstanceState) {
		// TODO Auto-generated method stub
		_location.setOnClickListener(this);
		_support.setOnClickListener(this);
		_enquiry.setOnClickListener(this);
	}

	@Override
	protected void reCreateView() {
		// TODO Auto-generated method stub
		
	}

	@Override
	public void onClick(View v) {
		// TODO Auto-generated method stub
		if (v == _support) {
			String phoneNumb = "+84866605741";
			Intent phone = new Intent(Intent.ACTION_CALL);
			phone.setData(Uri.parse("tel:" +phoneNumb));
			startActivity(phone);
		}
		else if(v == _enquiry)
		{
			Log.i("phanthehung", "2");
		}
		else if(v == _location){
			Log.i("phanthehung", "3");
		}
	}
	
	private void loadFragment(final Boolean add, final Boolean clearBackStack,
			final Boolean addToBackStack, final BaseFragment fragment) {
		if (this != fragment) {

			// Check Login Communicator && Board && People
			MyApplication application = (MyApplication) getApplication();
			if (fragment instanceof FragmentCommunicator
					|| fragment instanceof FragmentBoard
					|| fragment instanceof FragmentPeople) {
				if (application.getUser() == null) {
					handleEvent(new ActionEvent(Event.PLEASE_LOGIN, null));
					return;
				}
			}


			CurrentFragment = fragment;
			if (clearBackStack == true)
				clearFragmentBackStack();
			if (add == true)
				addFragment(fragment, getLayoutContentID());
			else
				replaceFragment(fragment, getLayoutContentID(), addToBackStack);


			if (fragment instanceof FragmentPeople) {
				if (mDelegatePeople != null)
					mDelegatePeople.loadView();
				getCustomActionBar().setOption2(
						getResources().getDrawable(R.drawable.bg_refresh));
			}

			if (fragment instanceof FragmentBoard) {
				if (mDelegateBoard != null)
					mDelegateBoard.loadView();
			}
		}
	}

}
